<div class="card mb-3 shadow-sm" [class.bg-light]="task().completed">
  <div class="card-body d-flex flex-column flex-md-row align-items-center justify-content-between">
    <div>
      <h5 class="card-title mb-1 fw-bold" [class.text-decoration-line-through]="task().completed">
        {{ task().title }}
      </h5>
      @if (task().description) {
      <p class="card-text mb-1 text-muted">
        {{ task().description }}
      </p>
      }
      @if (task().completed) {
        <span class="badge bg-success">Completed</span>
      }
        </div>
    <div class="btn-group mt-2 mt-md-0">
      <button class="btn btn-outline-success btn-sm" (click)="onCompleteTask()" [disabled]="task().completed">
        <i class="bi bi-check2-circle"></i> Complete
      </button>
      <button class="btn btn-outline-primary btn-sm" (click)="isEditing = true">
        <i class="bi bi-pencil"></i> Edit
      </button>
      <button class="btn btn-outline-danger btn-sm" (click)="onDeleteTask()">
        <i class="bi bi-trash"></i> Delete
      </button>
    </div>
  </div>

    @if (isEditing) {
  <div class="card-footer bg-white">
    <div class="row g-2">
      <div class="col">
        <input [formControl]="editTitleControl" class="form-control form-control-sm" placeholder="Title" />
      </div>
      <div class="col">
        <input [formControl]="editDescriptionControl" class="form-control form-control-sm" placeholder="Description" />
      </div>
      <div class="col-auto">
        <button class="btn btn-success btn-sm" (click)="onSaveEdit()">Save</button>
        <button class="btn btn-secondary btn-sm" (click)="isEditing = false">Cancel</button>
      </div>
    </div>
  </div>
    }
</div>
